# Troubleshooting

Common issues and solutions when using Yield Delta.

## üîß Installation Issues

### Bun Installation Problems

**Issue**: `bun: command not found`

**Solution**:
```bash
# Install bun
curl -fsSL https://bun.sh/install | bash

# Add to PATH
echo 'export PATH="$HOME/.bun/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc
```

### Dependency Conflicts

**Issue**: Package version conflicts

**Solution**:
```bash
# Clear cache and reinstall
rm -rf node_modules bun.lockb
bun install

# Force clean install
bun install --force
```

## üåê Network Issues

### Wallet Connection Problems

**Issue**: Wallet not connecting or showing wrong network

**Solutions**:

1. **Check Network Configuration**:
   - Ensure wallet is set to SEI Network
   - Chain ID should be 1328 (mainnet) or 713715 (testnet)

2. **Reset Wallet Connection**:
   ```bash
   # Clear browser storage
   localStorage.clear()
   
   # Refresh page and reconnect
   ```

3. **SEI Network Configuration**:
   ```json
   {
     "chainId": "0x531", // 1329 in hex for mainnet
     "chainName": "SEI Network",
     "rpcUrls": ["https://evm-rpc.sei-apis.com"],
     "nativeCurrency": {
       "name": "SEI",
       "symbol": "SEI", 
       "decimals": 18
     },
     "blockExplorerUrls": ["https://seitrace.com"]
   }
   ```

### API Connection Issues

**Issue**: API endpoints returning errors

**Solutions**:

1. **Check Service Status**:
   ```bash
   curl http://localhost:3000/api/health
   ```

2. **Verify Environment Variables**:
   ```bash
   # Check if variables are loaded
   echo $NEXT_PUBLIC_API_URL
   echo $NEXT_PUBLIC_SEI_CHAIN_ID
   ```

3. **Restart Services**:
   ```bash
   # Kill existing processes
   lsof -ti:3000 | xargs kill -9
   
   # Restart
   bun dev
   ```

## ü§ñ AI Engine Issues

### AI Predictions Not Working

**Issue**: AI endpoints returning errors

**Solutions**:

1. **Check AI Engine Status**:
   ```bash
   curl http://localhost:8000/health
   ```

2. **Verify API Keys**:
   ```bash
   # Check OpenAI API key
   echo $OPENAI_API_KEY
   
   # Test API key
   curl -H "Authorization: Bearer $OPENAI_API_KEY" \
     https://api.openai.com/v1/models
   ```

3. **Restart AI Engine**:
   ```bash
   cd ai-engine
   python -m uvicorn main:app --reload --port 8000
   ```

### ElizaOS Chat Issues

**Issue**: Liqui chat not responding

**Solutions**:

1. **Check ElizaOS Status**:
   ```bash
   cd liqui
   bun run dev
   ```

2. **Verify WebSocket Connection**:
   ```javascript
   // In browser console
   const ws = new WebSocket('ws://localhost:8000/ws');
   ws.onopen = () => console.log('Connected');
   ws.onerror = (e) => console.error('Error:', e);
   ```

## üí∞ Transaction Issues

### Transactions Failing

**Issue**: Deposits/withdrawals failing

**Solutions**:

1. **Check Gas Fees**:
   - Ensure wallet has sufficient SEI for gas
   - Typical gas cost: 0.001-0.005 SEI

2. **Verify Contract Addresses**:
   ```bash
   # Check vault address in environment
   echo $NEXT_PUBLIC_VAULT_ADDRESS
   ```

3. **Check Network Congestion**:
   - Try increasing gas limit
   - Wait for network congestion to reduce

### Demo Mode Not Working

**Issue**: Demo transactions not simulating

**Solutions**:

1. **Verify Demo Mode**:
   ```bash
   # Check environment variable
   echo $NEXT_PUBLIC_DEMO_MODE
   
   # Should output: true
   ```

2. **Check Console Logs**:
   - Open browser DevTools
   - Look for demo mode indicators
   - Check for JavaScript errors

3. **Hard Refresh**:
   ```bash
   # Clear cache and refresh
   Ctrl + Shift + R (Windows/Linux)
   Cmd + Shift + R (Mac)
   ```

## üìä Performance Issues

### Slow Loading Times

**Issue**: Application loading slowly

**Solutions**:

1. **Check Bundle Size**:
   ```bash
   bun run build
   bun run analyze
   ```

2. **Optimize Images**:
   - Ensure images are optimized
   - Use WebP format when possible

3. **Database Performance**:
   ```bash
   # Check database size
   ls -la data/yield-delta.db
   
   # Vacuum database if needed
   sqlite3 data/yield-delta.db "VACUUM;"
   ```

### Memory Issues

**Issue**: High memory usage

**Solutions**:

1. **Monitor Memory**:
   ```bash
   # Check Node.js memory usage
   node --inspect --max-old-space-size=4096 server.js
   ```

2. **Optimize Queries**:
   - Limit API response sizes
   - Use pagination for large datasets

## üîç Development Issues

### Build Failures

**Issue**: `bun run build` failing

**Solutions**:

1. **Check TypeScript Errors**:
   ```bash
   bun run type-check
   ```

2. **Lint Issues**:
   ```bash
   bun run lint --fix
   ```

3. **Clean Build**:
   ```bash
   rm -rf .next
   bun run build
   ```

### Hot Reload Not Working

**Issue**: Changes not reflecting in development

**Solutions**:

1. **Restart Development Server**:
   ```bash
   # Kill and restart
   pkill -f "next dev"
   bun dev
   ```

2. **Check File Watchers**:
   ```bash
   # Increase file watcher limit (Linux)
   echo 100000 | sudo tee /proc/sys/fs/inotify/max_user_watches
   ```

## üì± Browser Issues

### Styling Problems

**Issue**: Styles not loading correctly

**Solutions**:

1. **Clear Browser Cache**:
   - Hard refresh (Ctrl+Shift+R)
   - Clear all browser data for localhost

2. **Check CSS Build**:
   ```bash
   # Rebuild CSS
   bun run build:css
   ```

3. **Verify Tailwind**:
   ```bash
   # Check if Tailwind is working
   npx tailwindcss --help
   ```

### JavaScript Errors

**Issue**: Console showing errors

**Solutions**:

1. **Check Browser Compatibility**:
   - Use modern browsers (Chrome 90+, Firefox 88+)
   - Enable JavaScript

2. **Debug Mode**:
   ```bash
   # Run in development mode
   NODE_ENV=development bun dev
   ```

## üõ†Ô∏è Advanced Debugging

### Enable Debug Logging

```bash
# Set debug environment
DEBUG=* bun dev

# Or specific debug categories
DEBUG=sei-dlp:* bun dev
```

### Database Debugging

```bash
# Check database schema
sqlite3 data/yield-delta.db ".schema"

# View recent transactions
sqlite3 data/yield-delta.db "SELECT * FROM transactions ORDER BY created_at DESC LIMIT 10;"
```

### Network Debugging

```bash
# Check network connectivity
curl -v https://evm-rpc.sei-apis.com

# Test WebSocket connection
wscat -c ws://localhost:8000/ws
```

## üìû Getting Help

### Community Support

- **Discord**: [Join our community](https://discord.gg/sei)
- **GitHub Issues**: [Report bugs](https://github.com/your-org/sei-dlp-core/issues)
- **Twitter**: [@SEI_DLP](https://twitter.com/sei_dlp)

### Debugging Information

When reporting issues, include:

1. **Environment Info**:
   ```bash
   bun --version
   node --version
   git rev-parse HEAD
   ```

2. **Error Logs**:
   - Browser console errors
   - Server logs
   - Network requests

3. **Configuration**:
   - Environment variables (without secrets)
   - Browser version
   - Operating system

### Emergency Procedures

**Critical Issues**:

1. **Stop All Services**:
   ```bash
   pkill -f "next dev"
   pkill -f "python"
   pkill -f "bun"
   ```

2. **Reset Environment**:
   ```bash
   rm -rf node_modules .next data/logs/*
   bun install
   bun dev
   ```

3. **Contact Support**:
   - Email: support@seidlp.com
   - Discord: Emergency channel
   - GitHub: Create urgent issue

---

*Still having issues? Don't hesitate to reach out to our community or support team!*